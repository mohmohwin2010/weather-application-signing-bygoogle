{"ast":null,"code":"var _jsxFileName = \"/Users/mohmohwin/SelfStudy/AssignmentTest/AstuGlobalTech/GoogleIdentifyServicesDemo/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport jwtDecode from \"jwt-decode\";\nimport Search from \"./component/search/search\";\nimport Forecast from \"./component/forecast/forecast\";\nimport CurrentWeather from \"./component/current-weather/current-weather\";\nimport { WEATHER_API_URL, WEATHER_API_KEY } from \"./component/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [user, setUser] = useState({});\n  const [currentWeather, setCurrentWeather] = useState(null);\n  const [forecast, setForecast] = useState(null);\n\n  const handleOnSearchChange = searchData => {\n    const [lat, lon] = searchData.value.split(\"\");\n    const currentWeatherFetch = fetch(`${WEATHER_API_URL}/weather?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`);\n    const forecastFetch = fetch(`${WEATHER_API_URL}/forecast?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`);\n    Promise.all([currentWeatherFetch, forecastFetch]).then(async response => {\n      const weatherResponse = await response[0].json();\n      const forecastResponse = await response[1].json();\n      setCurrentWeather({\n        city: searchData.label,\n        ...weatherResponse\n      });\n      setForecast({\n        city: searchData.label,\n        ...forecastResponse\n      });\n    }).catch(err => console.log(err));\n  };\n\n  function handleCallbackResponse(response) {\n    console.log(\"Encoded JWT ID token : \" + response.credential);\n    var userObject = jwtDecode(response.credential);\n    console.log(userObject);\n    setUser(userObject);\n    document.getElementById(\"signInDiv\").hidden = true;\n  }\n\n  function handleSignOut(event) {\n    setUser({});\n    document.getElementById(\"signInDiv\").hidden = false;\n  }\n\n  useEffect(() => {\n    /* global google */\n    google.accounts.id.initialize({\n      client_id: \"963425870980-u7kni0ibj4ibakcd9jnq3194302se7k9.apps.googleusercontent.com\",\n      callback: handleCallbackResponse\n    });\n    google.accounts.id.renderButton(document.getElementById(\"signInDiv\"), {\n      theme: \"outline\",\n      size: \"large\"\n    });\n    google.accounts.id.prompt();\n  }, []); //If we have no user: sign in button\n  //If we have a user: show the log out button\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"signInDiv\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), Object.keys(user).length != 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => handleSignOut(e),\n      children: \"Sign Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.picture\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"XK9X4qo36PYCiJkVznOPn1PqW6Y=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","useEffect","useState","jwtDecode","Search","Forecast","CurrentWeather","WEATHER_API_URL","WEATHER_API_KEY","App","user","setUser","currentWeather","setCurrentWeather","forecast","setForecast","handleOnSearchChange","searchData","lat","lon","value","split","currentWeatherFetch","fetch","forecastFetch","Promise","all","then","response","weatherResponse","json","forecastResponse","city","label","catch","err","console","log","handleCallbackResponse","credential","userObject","document","getElementById","hidden","handleSignOut","event","google","accounts","id","initialize","client_id","callback","renderButton","theme","size","prompt","Object","keys","length","e","picture","name"],"sources":["/Users/mohmohwin/SelfStudy/AssignmentTest/AstuGlobalTech/GoogleIdentifyServicesDemo/client/src/App.js"],"sourcesContent":["import logo from \"./logo.svg\";\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport jwtDecode from \"jwt-decode\";\nimport Search from \"./component/search/search\";\nimport Forecast from \"./component/forecast/forecast\";\nimport CurrentWeather from \"./component/current-weather/current-weather\";\nimport { WEATHER_API_URL, WEATHER_API_KEY } from \"./component/api\";\n\nfunction App() {\n  const [user, setUser] = useState({});\n  const [currentWeather, setCurrentWeather] = useState(null);\n  const [forecast, setForecast] = useState(null);\n\n  const handleOnSearchChange = (searchData) => {\n    const [lat, lon] = searchData.value.split(\"\");\n    const currentWeatherFetch = fetch(\n      `${WEATHER_API_URL}/weather?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`\n    );\n    const forecastFetch = fetch(\n      `${WEATHER_API_URL}/forecast?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`\n    );\n    Promise.all([currentWeatherFetch, forecastFetch])\n      .then(async (response) => {\n        const weatherResponse = await response[0].json();\n        const forecastResponse = await response[1].json();\n        setCurrentWeather({ city: searchData.label, ...weatherResponse });\n        setForecast({ city: searchData.label, ...forecastResponse });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  function handleCallbackResponse(response) {\n    console.log(\"Encoded JWT ID token : \" + response.credential);\n    var userObject = jwtDecode(response.credential);\n    console.log(userObject);\n    setUser(userObject);\n    document.getElementById(\"signInDiv\").hidden = true;\n  }\n\n  function handleSignOut(event) {\n    setUser({});\n    document.getElementById(\"signInDiv\").hidden = false;\n  }\n\n  useEffect(() => {\n    /* global google */\n    google.accounts.id.initialize({\n      client_id:\n        \"963425870980-u7kni0ibj4ibakcd9jnq3194302se7k9.apps.googleusercontent.com\",\n      callback: handleCallbackResponse,\n    });\n\n    google.accounts.id.renderButton(document.getElementById(\"signInDiv\"), {\n      theme: \"outline\",\n      size: \"large\",\n    });\n\n    google.accounts.id.prompt();\n  }, []);\n\n  //If we have no user: sign in button\n  //If we have a user: show the log out button\n\n  return (\n    <div className=\"App\">\n      <div id=\"signInDiv\"></div>\n      {Object.keys(user).length != 0 && (\n        <button onClick={(e) => handleSignOut(e)}>Sign Out</button>\n      )}\n\n      {user && (\n        <>\n          <div>\n            <img src={user.picture} />\n            <h3>{user.name}</h3>\n          </div>\n          <div>Hello</div>\n\n          {/* <div className=\"container\">\n            <Search onSearchChange={handleOnSearchChange} />\n            {currentWeather && <CurrentWeather data={currentWeather} />}\n\n            {forecast && <Forecast data={forecast} />}\n          </div> */}\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}